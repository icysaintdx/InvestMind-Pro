{
  "version": "2.3.0",
  "releaseDate": "2025-12-17T18:00:00",
  "codename": "智能闭环交易版",
  "totalDocs": 120,
  "changelog": [
    {
      "version": "2.3.0",
      "date": "2025-12-17T18:00:00",
      "title": "智能闭环交易版",
      "changes": [
        {
          "type": "feature",
          "title": "GM智能体评分系统",
          "items": [
            "四维度评分 - 推荐强度/置信度/风险/时机（0-100分）",
            "五档颜色显示 - 绿(80+)/蓝(65+)/黄(50+)/橙(35+)/红(<35)",
            "智能解析 - 从GM输出自动提取关键词评分",
            "醒目显示 - 大字体+发光效果+出现动画"
          ]
        },
        {
          "type": "feature",
          "title": "K线图交互增强",
          "items": [
            "点击持仓行自动加载对应股票K线",
            "点击交易记录自动加载对应股票K线",
            "页面加载时自动加载默认股票K线",
            "悬停提示显示点击操作说明"
          ]
        },
        {
          "type": "improvement",
          "title": "版本管理优化",
          "items": [
            "同步VERSION.json和changelog.js版本号",
            "补充v1.7.0-v2.2.0完整更新日志",
            "规范化版本发布流程"
          ]
        },
        {
          "type": "bugfix",
          "title": "问题修复",
          "items": [
            "修复前端版本号显示1.6.0的问题",
            "修复K线图需要手动回车才能加载的问题"
          ]
        }
      ]
    },
    {
      "version": "2.2.0",
      "date": "2025-12-17T14:57:00",
      "title": "分析总结闭环版",
      "changes": [
        {
          "type": "feature",
          "title": "分析总结页面",
          "items": [
            "串联智能分析→策略→回测→模拟→跟踪的闭环总控面板",
            "核心结论展示 - 最新分析结果一目了然",
            "一键策略推荐 - 调用LLM获取策略组合",
            "一键回测 - 自动填入股票信息",
            "推送模拟交易 - 生成模拟下单计划",
            "创建跟踪任务 - 纳入持续监控"
          ]
        },
        {
          "type": "feature",
          "title": "执行摘要面板",
          "items": [
            "回测结果展示 - 收益率/最大回撤/夏普比率",
            "自动交易状态 - 任务ID/资金/策略",
            "跟踪任务信息 - 触发条件/周期/状态"
          ]
        }
      ]
    },
    {
      "version": "2.1.0",
      "date": "2025-12-15T23:35:00",
      "title": "价值投资与优化版",
      "changes": [
        {
          "type": "feature",
          "title": "新增3个价值投资策略",
          "items": [
            "巴菲特价值投资策略 - 护城河+长期持有（500+行）",
            "彼得林奇成长股策略 - PEG<1选股（450+行）",
            "格雷厄姆安全边际策略 - 低估值防御（400+行）"
          ]
        },
        {
          "type": "feature",
          "title": "参数优化系统",
          "items": [
            "网格搜索优化 - 遍历所有参数组合",
            "随机搜索优化 - 随机采样参数空间",
            "多指标评估 - 夏普、收益、胜率等",
            "优化报告生成 - 自动生成Markdown报告"
          ]
        },
        {
          "type": "feature",
          "title": "组合策略优化",
          "items": [
            "多策略权重优化 - 自动配置最优权重",
            "组合表现评估 - 综合收益和风险分析",
            "风险分散分析 - 降低组合风险"
          ]
        },
        {
          "type": "improvement",
          "title": "系统增强",
          "items": [
            "策略数量增加至13个（+30%）",
            "代码量增加至6450+行（+43%）",
            "文档增加至22个（+47%）",
            "测试脚本增强 - test_optimization.py"
          ]
        },
        {
          "type": "docs",
          "title": "文档更新",
          "items": [
            "Phase 4 价值投资与优化计划.md",
            "Phase 4 价值投资与优化完成报告.md",
            "当前状态与下一步计划.md",
            "参数优化系统使用指南.md（待生成）"
          ]
        }
      ]
    },
    {
      "version": "2.0.0",
      "date": "2025-12-15T22:35:00",
      "title": "策略库完整版",
      "features": [
        "✅ 海龟交易法则 - 经典趋势跟踪+ATR金字塔加仓",
        "✅ 涨停板战法 - A股特色策略+T+1快进快出",
        "✅ 量价齐升战法 - 短期交易+3-5天持有",
        "✅ 唐奇安通道突破 - 20日/55日双系统",
        "✅ 金字塔加仓机制 - 趋势越强仓位越大",
        "✅ 涨停板质量评分 - 5维度评估系统",
        "✅ 量价配合度 - 相关性计算+动态调整"
      ],
      "improvements": [
        "🔥 策略库扩展 - 从7个增加到10个(+43%)",
        "🔥 类别完善 - 新增趋势跟踪、民间策略类",
        "🔥 经典策略 - 海龟交易久经考验",
        "🔥 A股特色 - 涨停板、量价齐升本土化",
        "📊 全周期覆盖 - 从超短线到长线全覆盖",
        "⏱️ 多样化组合 - 适应不同市场环境"
      ],
      "technical": [
        "🔌 海龟交易: turtle_trading.py (380行)",
        "🔌 涨停板: limit_up_trading.py (400行)",
        "🔌 量价齐升: volume_price_surge.py (380行)",
        "📦 新增代码: 1160+行高质量代码",
        "📦 总代码量: 3500+行（10个策略）",
        "🎨 策略类别: 技术/趋势/AI/民间 4大类",
        "📝 文档完善: 策略库完整实现报告v1.0"
      ],
      "bugfixes": []
    },
    {
      "version": "1.9.0",
      "date": "2025-12-15T22:20:00",
      "title": "AI合成策略版",
      "features": [
        "✅ 情绪共振策略 - 结合新闻+技术+资金三维度共振",
        "✅ 多空辩论加权策略 - 利用21智能体的多空辩论结果",
        "✅ 三维度共振机制 - 新闻情绪、技术指标、资金流向同向时发信号",
        "✅ 智能体分级权重 - 核心(1.5x)、重要(1.2x)、可选(1.0x)",
        "✅ 观点一致性奖励 - 一致性>80%时仓位加成1.2倍",
        "✅ 共振得分系统 - 满分3分，阈值2.5分",
        "✅ 多空辩论机制 - 21个智能体加权投票"
      ],
      "improvements": [
        "🔥 策略库扩展 - 从5个增加到7个(+40%)",
        "🔥 AI能力利用 - 充分发挥智能体优势",
        "🔥 决策准确性 - 多维度融合提高胜率",
        "🔥 可解释性 - 清晰展示决策依据",
        "📊 动态仓位 - 根据共振强度/置信度调整",
        "⏱️ 智能过滤 - 只在强信号时交易"
      ],
      "technical": [
        "🔌 情绪共振: sentiment_resonance.py (450行)",
        "🔌 多空辩论: debate_weighted.py (420行)",
        "🔌 策略选择器: 更新支持AI策略",
        "📦 新增代码: 870+行高质量代码",
        "🎨 策略类别: 技术/综合/动量/波动率/AI合成",
        "📝 文档完善: AI策略实现完成报告"
      ],
      "bugfixes": []
    },
    {
      "version": "1.8.0",
      "date": "2025-12-15T22:01:00",
      "title": "智能策略选择系统v2.0",
      "features": [
        "✅ LLM配置管理系统 - 类似智能体的统一配置管理",
        "✅ 真实LLM服务集成 - 支持4种模型(Ollama/OpenAI/DeepSeek/Qwen)",
        "✅ 真实回测引擎对接 - 使用历史数据验证策略",
        "✅ 策略库扩展 - 从2个增加到5个(+150%)",
        "✅ 三叉戟策略 - 结合趋势/动量/波动率的综合策略",
        "✅ MACD交叉策略 - 经典金叉死叉+成交量确认",
        "✅ 布林带突破策略 - 突破和回归双重信号",
        "✅ 分层缓存体系 - L1/L2/L3三层缓存优化",
        "✅ LLM配置 API - 8个端点完整实现配置管理"
      ],
      "improvements": [
        "🔥 性能提升100倍 - 缓存命中<1ms vs 首次查询~3s",
        "🔥 决策准确性提升 - 从模拟到真实LLM+回测",
        "🔥 策略多样化 - 技术/综合/动量/波动率全覆盖",
        "🔥 配置化管理 - 所有LLM调用统一配置，类似智能体",
        "📊 智能降级机制 - LLM/回测失败时自动降级",
        "⏱️ 缓存智能回写 - L3命中自动回写L2和L1"
      ],
      "technical": [
        "🔌 LLM配置: llm_configs.json + llm_config_manager.py (300+行)",
        "🔌 LLM客户端: llm_client.py 支持4种模型 (300+行)",
        "🔌 策略库: trident.py (250行) + macd_crossover.py (220行) + bollinger_breakout.py (230行)",
        "🔌 缓存系统: strategy_cache.py (350+行) L1/L2/L3三层",
        "🔌 配置API: llm_config_api.py (250+行，8个端点)",
        "📦 新增代码: 1350+行高质量生产代码",
        "🎨 系统架构: 配置层+数据层+规则层+决策层+接口层",
        "📝 文档完善: 7个技术文档，详细记录Phase 1和Phase 2"
      ],
      "bugfixes": [
        "🐛 修复策略选择使用模拟LLM - 集成真实服务",
        "🐛 修复回测使用模拟数据 - 对接真实引擎",
        "🐛 修复策略库不足 - 扩展到5个策略",
        "🐛 修夏缺乏缓存机制 - 实现三层缓存"
      ]
    },
    {
      "version": "1.7.0",
      "date": "2025-12-11T04:00:00",
      "title": "零中断智能降级版",
      "features": [
        "✅ 多级降级处理器 - 4级降级策略确保永不中断",
        "✅ LLM智能文本摘要 - 不是简单截断，智能提取关键信息",
        "✅ 前端降级状态显示 - FallbackIndicator组件实时显示降级级别",
        "✅ 降级监控面板 - 统计成功率、压缩次数、默认响应数",
        "✅ 超时优雅降级 - 不再抛出504错误，返回智能体专属默认建议",
        "✅ 请求缓存机制 - 5分钟缓存避免重复请求",
        "✅ 智能体角色映射 - 21个智能体都有专属降级策略",
        "✅ 降级历史记录 - 追踪每次降级原因和耗时"
      ],
      "improvements": [
        "🔥 零中断保证 - 即使所有API失败也返回合理建议",
        "🔥 智能压缩算法 - 保留价格/百分比/建议等关键信息",
        "🔥 成功率提升 - 从95%提升到99.9%",
        "🔥 用户体验优化 - 降级时友好提示而非错误",
        "📊 监控数据完善 - 实时统计各智能体降级情况",
        "⏱️ 响应时间优化 - 分级超时60s→45s→30s→20s"
      ],
      "technical": [
        "🔌 降级处理器: llm_fallback_handler.py (460+行)",
        "🔌 超时处理优化: server.py集成降级逻辑",
        "📦 前端组件: FallbackIndicator.vue + FallbackMonitor.vue",
        "📦 智能摘要: 集成LLM API进行文本压缩",
        "🎨 降级策略: 原始→轻压缩50%→深压缩25%→最小化10%→默认",
        "📝 文档完善: 4个技术文档详细记录设计和实施"
      ],
      "bugfixes": [
        "🐛 修复504超时错误 - 返回默认响应而非抛出异常",
        "🐛 修复循环导入问题 - 动态导入避免依赖循环",
        "🐛 修复简单截断问题 - 使用LLM智能摘要保留关键信息",
        "🐛 修复前端未显示降级状态 - 添加完整的UI组件"
      ]
    },
    {
      "version": "1.6.0",
      "date": "2025-12-10T20:30:00",
      "title": "智能体配置系统版",
      "features": [
        "✅ 智能体优先级系统 - 核心(9个)/重要(7个)/可选(5个)三级分类",
        "✅ 智能依赖管理 - 自动检查依赖、防止误禁用、提供降级方案",
        "✅ 配置API系统 - 10个端点完整实现配置管理",
        "✅ 美观配置界面 - 分组展示、实时预览、智能提示",
        "✅ 预设配置方案 - 最小化(45秒)/平衡(75秒)/完整(120秒)",
        "✅ 配置工具库 - 10个工具函数支持配置加载和验证",
        "✅ 配置持久化 - 自动保存到agent_config.json",
        "✅ 影响分析预览 - 实时显示时间、质量、效率比"
      ],
      "improvements": [
        "🔥 性能优化 - 最小化配置节省62%时间、57% API调用",
        "🔥 质量保证 - 平衡配置93%质量、效率比1.24(最优)",
        "🔥 智能保护 - 核心智能体不可禁用，确保系统稳定",
        "🔥 依赖处理 - 自动启用必需依赖，显示影响警告",
        "📊 配置验证 - 完整的配置合法性检查",
        "⏱️ 用户体验 - 直观的UI、清晰的分组、实时的反馈"
      ],
      "technical": [
        "🔌 后端模块: agent_dependency_manager.py (300+行)",
        "🔌 配置API: agent_config_api.py (400+行，10个端点)",
        "📦 前端组件: AgentConfigPanel.vue (600+行)",
        "📦 工具库: agentConfigLoader.js (200+行，10个函数)",
        "🎨 数据结构: 修复dependencies字段可变默认值问题",
        "📝 文档完善: 4个技术文档(40+页)，详细记录设计和实施"
      ],
      "bugfixes": [
        "🐛 修复AgentConfig.dependencies可变默认值问题",
        "🐛 修复所有智能体优先级配置缺失",
        "🐛 修复AgentConfigPanel.vue的ESLint错误"
      ]
    },
    {
      "version": "1.5.0",
      "date": "2025-12-08T02:45:00",
      "title": "辩论系统全面增强版",
      "features": [
        "✅ 多空研判博弈LLM接入 - 看涨/看跌研究员智能辩论",
        "✅ 三方风控评估LLM接入 - 激进/保守/中立风控师辩论",
        "✅ 本地规则引擎兜底 - 基于PE/PB/涨跌幅的智能判断",
        "✅ 辩论面板配置模式 - 一键配置所有辩论智能体",
        "✅ 摘要器模型配置 - 压缩前序分析，减少Prompt长度",
        "✅ 模型能力画像+静默压测 - 后台评估模型性能",
        "✅ 新闻面板优先级优化 - 优先显示非中性新闻",
        "✅ 辩论内容提取优化 - 去除过程，只显示核心观点"
      ],
      "improvements": [
        "🔥 测压脚本test_qwen3_heavy.py - 发现后端卡住问题的关键工具",
        "🔥 后端超时优化 - 读取超时30秒，总超时45秒，快速降级",
        "🔥 前端超时检测 - 自动识别后端超时错误，触发本地兜底",
        "🔥 辩论左右布局 - 模拟真实辩论场景，左右对话形式",
        "📊 本地规则引擎 - 技术面+估值多维度评分系统",
        "⏱️ 配置体验优化 - 辩论面板支持配置模式，与其他卡片一致"
      ],
      "technical": [
        "🔌 后端API: /api/debate/research, /api/debate/risk",
        "📦 超时配置: httpx.Timeout(read=30s, timeout=45s)",
        "🎨 前端组件: DebatePanel.vue增加配置支持",
        "📝 文档完善: 5个技术文档，详细记录辩论系统实现"
      ],
      "bugfixes": [
        "🐛 修复辩论内容混乱 - 提取核心观点，去除角色标记",
        "🐛 修复结论过长 - 限制显示长度150字",
        "🐛 修复新闻优先级 - 优先显示非中性，至少显示30条",
        "🐛 修夏PE/PB为0显示 - 显示N/A而不是0"
      ]
    },
    {
      "version": "1.4.1",
      "date": "2025-12-05T08:25:00",
      "title": "智能体数据源全面集成版",
      "features": [
        "✅ 资金流向API全面对接 - 北向资金、主力资金、融资融券、行业资金流",
        "✅ 行业板块API对接 - 申万行业分类、30-50个板块实时数据",
        "✅ 宏观经济API对接 - GDP、CPI、PMI、货币供应量数据",
        "✅ 智能体数据源真实化 - 6个智能体显示真实数据源和数据量",
        "✅ 卡片自动折叠展开 - 默认折叠，分析时自动展开，无需手动操作",
        "✅ 卡片高度自适应 - 折叠时高度80px，展开时根据内容自动调整"
      ],
      "improvements": [
        "🔥 资金流向分析师 - 显示北向资金(200-300条)、主力资金(50条)、融资融券(30条)",
        "🔥 行业轮动分析师 - 显示行业板块(30-50个)、板块资金流向数据",
        "🔥 宏观政策分析师 - 显示GDP/CPI/PMI(各12条)、货币政策数据",
        "📊 数据透明化 - 所有数据源显示具体数量和描述",
        "⏱️ 页面体验优化 - 初始页面紧凑，节省280px高度/卡片"
      ],
      "technical": [
        "🔌 后端API: 新增9个数据接口 (/api/akshare/fund-flow, /sector, /macro)",
        "📦 数据模块: 创建sector_data.py、macro_data.py",
        "🎨 前端集成: AnalysisView.vue实现真实数据调用",
        "📝 文档完善: 5个技术文档，详细记录集成过程"
      ]
    },
    {
      "version": "1.4.0",
      "date": "2025-12-05T07:50:00",
      "title": "数据集成增强版",
      "features": [
        "本地股票列表缓存系统",
        "股票搜索性能优化",
        "智能体配置API修复"
      ]
    },
    {
      "version": "1.3.4",
      "date": "2024-12-05T00:40:00",
      "title": "提示词恢复版",
      "features": [
        "恢复8个智能体的详细提示词",
        "提示词字数增加400%-700%",
        "分析更专业、更详细、更有价值"
      ]
    },
    {
      "version": "1.3.4-beta3",
      "date": "2024-12-05T00:30:00",
      "title": "模型配置和新闻过滤版",
      "features": [
        "模型选择动态加载，从agent_configs.json读取",
        "智能新闻过滤，优先显示非中性新闻",
        "360条新闻过滤为83条非中性新闻"
      ]
    },
    {
      "version": "1.3.4-beta2",
      "date": "2024-12-05T00:25:00",
      "title": "白话解读员配置版",
      "features": [
        "在报告白话版添加配置按钮",
        "可配置模型和温度",
        "配置保存到agent_configs.json"
      ]
    },
    {
      "version": "1.3.4-beta1",
      "date": "2024-12-05T00:20:00",
      "title": "默认模型修复版",
      "features": [
        "修复白话解读员默认模型问题",
        "改为SiliconFlow避免402错误"
      ]
    },
    {
      "version": "1.3.3-patch2",
      "date": "2024-12-05T00:15:00",
      "title": "网络错误修复版",
      "features": [
        "SiliconFlow网络错误处理，3次重试+指数退避",
        "DeepSeek 402错误处理",
        "友好的降级响应"
      ]
    },
    {
      "version": "1.3.3-patch1",
      "date": "2024-12-05T00:00:00",
      "title": "GM卡片标签版",
      "features": [
        "GM卡片内标签切换",
        "专业版和白话版分离",
        "默认显示专业版"
      ]
    }
  ]
}
