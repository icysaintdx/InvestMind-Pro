# ğŸ” å¯¹æ¯”ç¬¬äºŒé˜¶æ®µå’Œç¬¬ä¸‰é˜¶æ®µ

**æ—¶é—´**: 2025-12-06 04:10

---

## ğŸ“Š ç¬¬äºŒé˜¶æ®µï¼ˆæ­£å¸¸ï¼‰

### æ™ºèƒ½ä½“
```
bull_researcher, bear_researcher, 
manager_fundamental, manager_momentum, 
research_manager
```

### å‰åºè¾“å‡º
```
ç¬¬ä¸€é˜¶æ®µ: 8ä¸ªæ™ºèƒ½ä½“çš„è¾“å‡º
- news_analyst
- social_analyst  
- china_market
- industry
- macro
- technical
- funds
- fundamental
```

### å‰åºè¾“å‡ºæ€»é•¿åº¦
```
çº¦ 3000-4000 å­—ç¬¦
```

### å“åº”æ—¶é—´
```
10-36ç§’ï¼Œå…¨éƒ¨æˆåŠŸ âœ…
```

---

## ğŸ“Š ç¬¬ä¸‰é˜¶æ®µï¼ˆå¡æ­»ï¼‰

### æ™ºèƒ½ä½“
```
risk_aggressive, risk_conservative,
risk_neutral, risk_system,
risk_portfolio, risk_manager
```

### å‰åºè¾“å‡º
```
ç¬¬ä¸€é˜¶æ®µ: 8ä¸ªæ™ºèƒ½ä½“çš„è¾“å‡º
ç¬¬äºŒé˜¶æ®µ: 5ä¸ªæ™ºèƒ½ä½“çš„è¾“å‡º
æ€»å…±: 13ä¸ªæ™ºèƒ½ä½“çš„è¾“å‡º
```

### å‰åºè¾“å‡ºæ€»é•¿åº¦
```
çº¦ 6000-7000 å­—ç¬¦ (æ ¹æ®åç«¯æ—¥å¿—)
```

### å“åº”æ—¶é—´
```
120ç§’è¶…æ—¶ âŒ
```

---

## ğŸ¯ å…³é”®å·®å¼‚

### 1. å‰åºè¾“å‡ºé•¿åº¦

```
ç¬¬äºŒé˜¶æ®µ: ~3500 å­—ç¬¦
ç¬¬ä¸‰é˜¶æ®µ: ~6700 å­—ç¬¦

å·®è·: æ¥è¿‘2å€ï¼
```

### 2. Promptæ€»é•¿åº¦

```
ç¬¬äºŒé˜¶æ®µ: ~4500 tokens
ç¬¬ä¸‰é˜¶æ®µ: ~7300 tokens

å·®è·: 1.6å€ï¼
```

### 3. åç«¯æ—¥å¿—æ˜¾ç¤º

```
ç¬¬äºŒé˜¶æ®µ:
[åˆ†æ] bull_researcher æ€»é•¿åº¦: ~4500 å­—ç¬¦
[SiliconFlow] Tokenä½¿ç”¨: 3962 tokens
[åˆ†æ] bull_researcher åˆ†æå®Œæˆ âœ…

ç¬¬ä¸‰é˜¶æ®µ:
[åˆ†æ] risk_aggressive æ€»é•¿åº¦: 7294 å­—ç¬¦ (~3647 tokens)
[åˆ†æ] risk_aggressive å‰åºè¾“å‡ºæ€»é•¿åº¦: 6728 å­—ç¬¦
[SiliconFlow] ReadTimeout âŒ
```

---

## ğŸ’¡ å¯èƒ½çš„åŸå› 

### 1. Promptå¤ªé•¿å¯¼è‡´å¤„ç†æ…¢

```
7300 tokens çš„ Prompt
â†’ SiliconFlow å¤„ç†æ—¶é—´æ›´é•¿
â†’ è¶…è¿‡ 120ç§’ è¶…æ—¶
```

### 2. å¹¶å‘å‹åŠ›ç´¯ç§¯

```
ç¬¬ä¸€é˜¶æ®µ: 8ä¸ªè¯·æ±‚
ç¬¬äºŒé˜¶æ®µ: 5ä¸ªè¯·æ±‚  
ç¬¬ä¸‰é˜¶æ®µ: 6ä¸ªè¯·æ±‚

ç´¯ç§¯æ•ˆæœ: SiliconFlow å¯èƒ½æœ‰æ’é˜Ÿ
```

### 3. æ¨¡å‹å“åº”å˜æ…¢

```
é•¿Prompt â†’ æ¨¡å‹å¤„ç†æ—¶é—´å¢åŠ 
6700å­—ç¬¦å‰åºè¾“å‡º â†’ éœ€è¦æ›´å¤šæ—¶é—´ç†è§£å’Œåˆ†æ
```

---

## ğŸ§ª éªŒè¯æ–¹æ³•

### æµ‹è¯•1: å‡å°‘å‰åºè¾“å‡ºé•¿åº¦

```python
# æˆªå–å‰åºè¾“å‡ºï¼Œçœ‹æ˜¯å¦èƒ½æˆåŠŸ
if len(output) > 300:
    summary = output[:300] + "\n...\n" + output[-100:]
```

### æµ‹è¯•2: å¢åŠ è¶…æ—¶æ—¶é—´

```python
# åç«¯è¶…æ—¶ä» 120ç§’ â†’ 180ç§’
timeout=httpx.Timeout(180.0, connect=10.0)
```

### æµ‹è¯•3: å‡å°‘æ‰¹æ¬¡å¤§å°

```javascript
// å‰ç«¯æ‰¹æ¬¡ä» 2 â†’ 1
await runAgentsInBatches(stage3Ids, fetchedStockData, 1)
```

---

## ğŸ¯ æœ€å¯èƒ½çš„åŸå› 

**Prompté•¿åº¦æ¥è¿‘2å€ï¼Œå¯¼è‡´SiliconFlowå¤„ç†æ—¶é—´è¶…è¿‡120ç§’ï¼**

---

**éœ€è¦éªŒè¯ï¼šæ˜¯å¦æˆªå–å‰åºè¾“å‡ºèƒ½è§£å†³é—®é¢˜ï¼Ÿ** ğŸ”
