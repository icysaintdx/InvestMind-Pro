# v1.5.0 ç‰ˆæœ¬æ›´æ–°æ€»ç»“

**å‘å¸ƒæ—¶é—´**: 2025-12-08 02:45  
**ç‰ˆæœ¬ä»£å·**: è¾©è®ºç³»ç»Ÿå…¨é¢å¢å¼ºç‰ˆ  
**æ€»æ–‡æ¡£æ•°**: 93ä¸ª (æ–°å¢6ä¸ª)

---

## âœ… å·²å®Œæˆçš„æ›´æ–°

### 1. ç‰ˆæœ¬æ–‡ä»¶æ›´æ–°
- âœ… `VERSION.json` - æ›´æ–°åˆ° v1.5.0
- âœ… `CHANGELOG.md` - æ·»åŠ å®Œæ•´çš„ v1.5.0 æ›´æ–°æ—¥å¿—
- âœ… `alpha-council-vue/src/data/changelog.js` - å‰ç«¯æ›´æ–°æ—¥å¿—æ•°æ®

### 2. åŠŸèƒ½æ–‡æ¡£åˆ›å»º
- âœ… `docs/v1.5.0è¾©è®ºç³»ç»Ÿå…¨é¢å¢å¼ºç‰ˆå®ŒæˆæŠ¥å‘Š.md` - è¯¦ç»†åŠŸèƒ½æ–‡æ¡£

---

## ğŸ“Š ç‰ˆæœ¬ç»Ÿè®¡

### æ–°å¢åŠŸèƒ½ (8ä¸ª)
1. **å¤šç©ºç ”åˆ¤åšå¼ˆLLMæ¥å…¥** â­â­â­â­â­
   - çœ‹æ¶¨/çœ‹è·Œç ”ç©¶å‘˜æ™ºèƒ½è¾©è®º
   - ç ”ç©¶éƒ¨ç»ç†ç»¼åˆå†³ç­–
   - API: `/api/debate/research`

2. **ä¸‰æ–¹é£æ§è¯„ä¼°LLMæ¥å…¥** â­â­â­â­â­
   - æ¿€è¿›/ä¿å®ˆ/ä¸­ç«‹é£æ§å¸ˆè¾©è®º
   - é£æ§éƒ¨ç»ç†ç»¼åˆå†³ç­–
   - API: `/api/debate/risk`

3. **æœ¬åœ°è§„åˆ™å¼•æ“å…œåº•æœºåˆ¶** â­â­â­â­â­
   - åŸºäºPE/PB/æ¶¨è·Œå¹…çš„æ™ºèƒ½åˆ¤æ–­
   - è‡ªåŠ¨è§¦å‘ï¼ˆAPIè¶…æ—¶æ—¶ï¼‰
   - å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿ

4. **è¾©è®ºé¢æ¿é…ç½®æ¨¡å¼** â­â­â­â­â­
   - ä¸€é”®é…ç½®æ‰€æœ‰è¾©è®ºæ™ºèƒ½ä½“
   - æ¨¡å‹é€‰æ‹©å’Œéšæœºæ€§è°ƒæ•´
   - é…ç½®ä¿å­˜åˆ°agent_configs.json

5. **æ‘˜è¦å™¨æ¨¡å‹é…ç½®** â­â­â­â­â­
   - å‹ç¼©å‰åºåˆ†æï¼Œå‡å°‘Prompté•¿åº¦

6. **æ¨¡å‹èƒ½åŠ›ç”»åƒ+é™é»˜å‹æµ‹** â­â­â­â­â­
   - åå°è¯„ä¼°æ¨¡å‹æ€§èƒ½

7. **æ–°é—»é¢æ¿ä¼˜å…ˆçº§ä¼˜åŒ–** â­â­â­â­
   - ä¼˜å…ˆæ˜¾ç¤ºéä¸­æ€§æ–°é—»
   - è‡³å°‘æ˜¾ç¤º30æ¡
   - ä¸è¶³ç”¨ä¸­æ€§è¡¥é½

8. **è¾©è®ºå†…å®¹æå–ä¼˜åŒ–** â­â­â­â­
   - æå–æ ¸å¿ƒè§‚ç‚¹
   - å»é™¤è§’è‰²æ ‡è®°
   - é™åˆ¶æ˜¾ç¤ºé•¿åº¦150å­—

### åŠŸèƒ½å¢å¼º (4ä¸ª)
1. **åç«¯è¶…æ—¶ä¼˜åŒ–**
   - è¯»å–è¶…æ—¶: 60ç§’ â†’ 30ç§’
   - æ€»è¶…æ—¶: 90ç§’ â†’ 45ç§’
   - è¿æ¥è¶…æ—¶: 20ç§’ â†’ 15ç§’

2. **å‰ç«¯è¶…æ—¶æ£€æµ‹æœºåˆ¶**
   - è‡ªåŠ¨è¯†åˆ«åç«¯è¶…æ—¶é”™è¯¯
   - è§¦å‘æœ¬åœ°å…œåº•
   - ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

3. **è¾©è®ºå·¦å³å¸ƒå±€ä¼˜åŒ–**
   - çœ‹æ¶¨/æ¿€è¿›: å·¦ä¾§ï¼ˆçº¢è‰²ï¼‰
   - çœ‹è·Œ/ä¿å®ˆ: å³ä¾§ï¼ˆç»¿è‰²ï¼‰
   - ä¸­ç«‹/æœ¬åœ°: å±…ä¸­ï¼ˆç°è‰²ï¼‰

4. **æµ‹å‹è„šæœ¬ test_qwen3_heavy.py**
   - å‘ç°åç«¯å¡ä½é—®é¢˜çš„å…³é”®å·¥å…·

### Bugä¿®å¤ (4ä¸ª)
1. **ä¿®å¤è¾©è®ºå†…å®¹æ··ä¹±**
   - é—®é¢˜: æ˜¾ç¤ºå¤šä¸ªè§’è‰²çš„å¯¹è¯ç‰‡æ®µ
   - ä¿®å¤: æå–æ ¸å¿ƒè§‚ç‚¹

2. **ä¿®å¤ç»“è®ºè¿‡é•¿**
   - é—®é¢˜: ç»“è®ºæ˜¾ç¤ºä¸€å¤§å †æ–‡å­—
   - ä¿®å¤: é™åˆ¶150å­—

3. **ä¿®å¤æ–°é—»ä¼˜å…ˆçº§é—®é¢˜**
   - é—®é¢˜: æ˜¾ç¤ºä¸åˆ°30æ¡ï¼Œå¤§éƒ¨åˆ†ä¸­æ€§
   - ä¿®å¤: ä¼˜å…ˆéä¸­æ€§ï¼Œè‡³å°‘30æ¡

4. **ä¿®å¤PE/PBä¸º0æ˜¾ç¤ºé—®é¢˜**
   - é—®é¢˜: æ˜¾ç¤º"PE=0ï¼ŒPB=0"
   - ä¿®å¤: æ˜¾ç¤º"PE=N/Aï¼ŒPB=N/A"

### æ–‡æ¡£æ›´æ–° (6ä¸ª)
1. `v1.5.0è¾©è®ºç³»ç»Ÿå…¨é¢å¢å¼ºç‰ˆå®ŒæˆæŠ¥å‘Š.md`
2. `è¾©è®ºç³»ç»Ÿå®ç°æ–‡æ¡£.md`
3. `æœ¬åœ°å…œåº•æœºåˆ¶è¯´æ˜.md`
4. `è¾©è®ºé¢æ¿é…ç½®æ¨¡å¼.md`
5. `è¶…æ—¶ä¼˜åŒ–æ–¹æ¡ˆ.md`
6. `test_qwen3_heavy.py`

---

## ğŸ“ ä¿®æ”¹æ–‡ä»¶æ¸…å•

### åç«¯æ–‡ä»¶ (2ä¸ª)
1. `backend/server.py`
   - SiliconFlow APIè¶…æ—¶é…ç½®ä¼˜åŒ–
   - read: 30ç§’, timeout: 45ç§’

2. `backend/api/debate_api.py`
   - å¤šç©ºè¾©è®ºAPIå®ç°
   - é£æ§è¾©è®ºAPIå®ç°

### å‰ç«¯æ–‡ä»¶ (4ä¸ª)
1. `alpha-council-vue/src/views/AnalysisView.vue`
   - è¾©è®ºè°ƒç”¨é€»è¾‘ (1325-1558è¡Œ)
   - æœ¬åœ°å…œåº•é€»è¾‘ (1175-1323è¡Œ)
   - å†…å®¹æå–ä¼˜åŒ– (1373-1385è¡Œ, 1520-1529è¡Œ)
   - è¶…æ—¶æ£€æµ‹æœºåˆ¶ (1367-1370è¡Œ, 1480-1485è¡Œ)

2. `alpha-council-vue/src/components/DebatePanel.vue`
   - é…ç½®æ¨¡å¼æ”¯æŒ (158-323è¡Œ)
   - å·¦å³å¸ƒå±€å®ç° (184-202è¡Œ)

3. `alpha-council-vue/src/components/NewsDataPanel.vue`
   - ä¼˜å…ˆçº§ä¼˜åŒ– (177-206è¡Œ)

4. `alpha-council-vue/src/data/changelog.js`
   - æ·»åŠ v1.5.0ç‰ˆæœ¬æ•°æ®

### é…ç½®æ–‡ä»¶ (2ä¸ª)
1. `VERSION.json` - ç‰ˆæœ¬ä¿¡æ¯
2. `CHANGELOG.md` - æ›´æ–°æ—¥å¿—

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯å®ç°

### 1. æœ¬åœ°è§„åˆ™å¼•æ“è¯„åˆ†ç³»ç»Ÿ

#### å¤šç©ºåˆ¤æ–­è§„åˆ™
```javascript
// æ¶¨è·Œå¹…è¯„åˆ†
if (changePercent > 5%) bullScore += 15
if (changePercent > 2%) bullScore += 8
if (changePercent < -5%) bearScore += 15
if (changePercent < -2%) bearScore += 8

// PEä¼°å€¼è¯„åˆ†
if (PE < 15) bullScore += 10  // ä¼°å€¼åä½
if (PE > 50) bearScore += 10  // ä¼°å€¼åé«˜
if (PE 15-30) bullScore += 5  // ä¼°å€¼åˆç†

// PBä¼°å€¼è¯„åˆ†
if (PB < 1.5) bullScore += 8  // ä¼°å€¼åˆç†
if (PB > 5) bearScore += 8    // ä¼°å€¼è¿‡é«˜

// æœ€ç»ˆåˆ¤æ–­
if (bullScore > bearScore + 10) return 'BUY'
if (bearScore > bullScore + 10) return 'SELL'
else return 'HOLD'
```

#### é£é™©è¯„ä¼°è§„åˆ™
```javascript
// æ³¢åŠ¨ç‡è¯„åˆ†
if (æ³¢åŠ¨ > 9%) riskScore += 30  // æé«˜æ³¢åŠ¨
if (æ³¢åŠ¨ > 5%) riskScore += 20  // é«˜æ³¢åŠ¨
if (æ³¢åŠ¨ > 3%) riskScore += 10  // ä¸­ç­‰æ³¢åŠ¨

// ä¼°å€¼å¼‚å¸¸è¯„åˆ†
if (PE > 100 æˆ– < 0) riskScore += 25  // PEå¼‚å¸¸
if (PE > 50) riskScore += 15          // PEåé«˜
if (PB > 10) riskScore += 15          // PBè¿‡é«˜
if (PB < 0.8) riskScore += 10         // PBç ´å‡€

// é£é™©ç­‰çº§
if (riskScore >= 50) return 'HIGH'    // é«˜é£é™©
if (riskScore >= 25) return 'MEDIUM'  // ä¸­ç­‰é£é™©
else return 'LOW'                     // ä½é£é™©
```

### 2. è¶…æ—¶æ£€æµ‹ä¸å…œåº•è§¦å‘

```javascript
// æ£€æµ‹åç«¯è¿”å›çš„è¶…æ—¶é”™è¯¯
const isTimeout = bullContent.includes('AI å“åº”è¶…æ—¶') || 
                  bearContent.includes('AI å“åº”è¶…æ—¶')

if (isTimeout) {
    // è§¦å‘æœ¬åœ°å…œåº•
    throw new Error('åç«¯LLMè¶…æ—¶ï¼Œè§¦å‘æœ¬åœ°å…œåº•')
}

// åœ¨catchå—ä¸­è°ƒç”¨æœ¬åœ°è§„åˆ™å¼•æ“
catch (e) {
    const fallback = localBullBearFallback()
    if (fallback) {
        // æ˜¾ç¤ºæœ¬åœ°è§„åˆ™å¼•æ“çš„åˆ¤æ–­ç»“æœ
        bullBearDebateMessages.value.push({
            agentName: 'æœ¬åœ°è§„åˆ™å¼•æ“',
            agentIcon: 'ğŸ”§',
            content: `åŸºäºæŠ€æœ¯é¢å’Œä¼°å€¼çš„æœ¬åœ°è§„åˆ™åˆ¤æ–­...`
        })
    }
}
```

### 3. å†…å®¹æå–ä¼˜åŒ–

```javascript
const extractCoreView = (content) => {
    // æŒ‰è¡Œåˆ†å‰²ï¼Œè¿‡æ»¤ç©ºè¡Œ
    const lines = content.split('\n').filter(l => l.trim())
    
    // ä»åå¾€å‰æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªè¶…è¿‡50å­—ä¸”ä¸åŒ…å«è§’è‰²æ ‡è®°çš„æ®µè½
    for (let i = lines.length - 1; i >= 0; i--) {
        const line = lines[i].trim()
        if (line.length > 50 && 
            !line.includes('Bull Analyst:') && 
            !line.includes('Bear Analyst:')) {
            return line
        }
    }
    
    // å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›å‰150å­—
    return content.substring(0, 150) + '...'
}
```

### 4. æ–°é—»ä¼˜å…ˆçº§é€»è¾‘

```javascript
// ä¼˜å…ˆæ˜¾ç¤ºéä¸­æ€§æ–°é—»ï¼Œè‡³å°‘æ˜¾ç¤º30æ¡
const nonNeutralNews = newsList.value.filter(n => n.sentiment !== 'neutral')
const neutralNews = newsList.value.filter(n => n.sentiment === 'neutral')

// å¦‚æœéä¸­æ€§æ–°é—» >= 30æ¡ï¼Œåªæ˜¾ç¤ºéä¸­æ€§
if (nonNeutralNews.length >= 30) {
    newsList.value = nonNeutralNews
} 
// å¦‚æœéä¸­æ€§æ–°é—» < 30æ¡ï¼Œç”¨ä¸­æ€§è¡¥é½åˆ°30æ¡
else {
    const needNeutral = 30 - nonNeutralNews.length
    newsList.value = [...nonNeutralNews, ...neutralNews.slice(0, needNeutral)]
}
```

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. æŸ¥çœ‹è¾©è®ºç»“æœ
1. è¾“å…¥è‚¡ç¥¨ä»£ç ï¼Œç‚¹å‡»"å¼€å§‹åˆ†æ"
2. ç­‰å¾…æ™ºèƒ½ä½“å®Œæˆåˆ†æ
3. è‡ªåŠ¨è§¦å‘å¤šç©ºè¾©è®ºå’Œé£æ§è¯„ä¼°
4. æŸ¥çœ‹è¾©è®ºé¢æ¿çš„å·¦å³å¯¹è¯å’Œæœ€ç»ˆç»“è®º

### 2. é…ç½®è¾©è®ºæ™ºèƒ½ä½“
1. ç‚¹å‡»é¡¶éƒ¨"âš™ï¸ é…ç½®æ¨¡å¼"
2. æ»šåŠ¨åˆ°è¾©è®ºé¢æ¿
3. ç‚¹å‡»å³ä¸Šè§’"âš™ï¸ é…ç½®æ¨¡å‹"
4. é€‰æ‹©æ¨¡å‹å’Œè°ƒæ•´éšæœºæ€§
5. é…ç½®è‡ªåŠ¨ä¿å­˜

### 3. æŸ¥çœ‹æœ¬åœ°å…œåº•
- å¦‚æœåç«¯è¶…æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æœ¬åœ°è§„åˆ™å¼•æ“
- æ˜¾ç¤º"ğŸ”§ æœ¬åœ°è§„åˆ™å¼•æ“"æ¶ˆæ¯
- ç»“è®ºåŸºäºæŠ€æœ¯é¢å’Œä¼°å€¼æ•°æ®

---

## ğŸ“ ä¸‹ä¸€æ­¥è®¡åˆ’

### v1.5.1 (è®¡åˆ’ä¸­)
1. **å¹¶å‘ä¼˜åŒ–**: è¾©è®ºæ¥å£çš„LLMè°ƒç”¨æ”¹ä¸ºå¹¶å‘
2. **ç¼“å­˜æœºåˆ¶**: å¯¹ç›¸åŒè‚¡ç¥¨çš„è¾©è®ºç»“æœè¿›è¡Œç¼“å­˜
3. **è¾©è®ºè½®æ•°**: æ”¯æŒå¤šè½®è¾©è®º
4. **å†å²è®°å½•**: ä¿å­˜è¾©è®ºå†å²
5. **è‡ªå®šä¹‰è§„åˆ™**: å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æœ¬åœ°å…œåº•è§„åˆ™

---

## âœ… ç‰ˆæœ¬å‘å¸ƒæ£€æŸ¥æ¸…å•

- [x] æ›´æ–° VERSION.json
- [x] æ›´æ–° CHANGELOG.md
- [x] æ›´æ–° changelog.js
- [x] åˆ›å»ºå®ŒæˆæŠ¥å‘Šæ–‡æ¡£
- [x] åˆ›å»ºç‰ˆæœ¬æ›´æ–°æ€»ç»“
- [x] æµ‹è¯•è¾©è®ºç³»ç»Ÿ
- [x] æµ‹è¯•æœ¬åœ°å…œåº•
- [x] æµ‹è¯•é…ç½®æ¨¡å¼
- [x] æµ‹è¯•æ–°é—»ä¼˜å…ˆçº§

---

**ç‰ˆæœ¬å‘å¸ƒæ—¶é—´**: 2025-12-08 02:45  
**ä¸‹ä¸€ç‰ˆæœ¬é¢„è®¡**: v1.5.1 (ä¼˜åŒ–å’Œå¢å¼º)
