# ğŸ’¡ InvestMindPro - æ ¸å¿ƒæŠ€æœ¯äº®ç‚¹

> æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»InvestMindProç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°å’Œä¼˜åŠ¿

---

## ğŸ¯ æŠ€æœ¯åˆ›æ–°æ¦‚è§ˆ

### 1. å¤šæ™ºèƒ½ä½“ååŒæ¶æ„
### 2. æ™ºèƒ½æ–°é—»è¿‡æ»¤ç®—æ³•
### 3. ç½‘ç»œå®¹é”™æœºåˆ¶
### 4. æ€ç»´é“¾å¯è§†åŒ–
### 5. æ‰“å­—æœºæ•ˆæœå®ç°
### 6. å¤šæ¨¡å‹åŠ¨æ€è·¯ç”±
### 7. å¼‚æ­¥å¹¶å‘å¤„ç†
### 8. æ•°æ®æºä¼˜å…ˆçº§ç®¡ç†

---

## 1. ğŸ¤– å¤šæ™ºèƒ½ä½“ååŒæ¶æ„

### æ ¸å¿ƒç†å¿µ
æ¨¡æ‹ŸçœŸå®æŠ•èµ„æœºæ„çš„å†³ç­–æµç¨‹ï¼Œé€šè¿‡21ä¸ªä¸“ä¸šæ™ºèƒ½ä½“çš„ååŒå·¥ä½œï¼Œå®ç°å…¨æ–¹ä½ã€å¤šç»´åº¦çš„æŠ•èµ„åˆ†æã€‚

### æ¶æ„è®¾è®¡

```
ä¼ ç»Ÿå•ä¸€æ¨¡å‹ âŒ              å¤šæ™ºèƒ½ä½“ååŒ âœ…
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚            â”‚ ç¬¬ä¸€é˜¶æ®µï¼šä¿¡æ¯é‡‡é›†ï¼ˆ8ä¸ªï¼‰  â”‚
â”‚   å•ä¸€AI     â”‚            â”‚ â”œâ”€ æ–°é—»èˆ†æƒ…              â”‚
â”‚   æ¨¡å‹åˆ†æ   â”‚            â”‚ â”œâ”€ ç¤¾äº¤åª’ä½“              â”‚
â”‚              â”‚            â”‚ â”œâ”€ ä¸­å›½å¸‚åœº              â”‚
â”‚              â”‚            â”‚ â”œâ”€ è¡Œä¸šç ”ç©¶              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”œâ”€ å®è§‚ç»æµ              â”‚
      â†“                     â”‚ â”œâ”€ æŠ€æœ¯åˆ†æ              â”‚
  å•ä¸€è§‚ç‚¹                  â”‚ â”œâ”€ èµ„é‡‘æµå‘              â”‚
  å®¹æ˜“ç‰‡é¢                  â”‚ â””â”€ åŸºæœ¬é¢                â”‚
                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                            â”‚ ç¬¬äºŒé˜¶æ®µï¼šå¤šç©ºè¾©è®ºï¼ˆ5ä¸ªï¼‰  â”‚
                            â”‚ â”œâ”€ çœ‹æ¶¨ç ”ç©¶å‘˜            â”‚
                            â”‚ â”œâ”€ çœ‹è·Œç ”ç©¶å‘˜            â”‚
                            â”‚ â”œâ”€ åŸºæœ¬é¢æ€»ç›‘            â”‚
                            â”‚ â”œâ”€ åŠ¨èƒ½æ€»ç›‘              â”‚
                            â”‚ â””â”€ ç ”ç©¶ç»ç†              â”‚
                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                            â”‚ ç¬¬ä¸‰é˜¶æ®µï¼šé£æ§è¯„ä¼°ï¼ˆ6ä¸ªï¼‰  â”‚
                            â”‚ â”œâ”€ æ¿€è¿›é£æ§              â”‚
                            â”‚ â”œâ”€ ä¿å®ˆé£æ§              â”‚
                            â”‚ â”œâ”€ ä¸­ç«‹é£æ§              â”‚
                            â”‚ â”œâ”€ ç³»ç»Ÿé£é™©              â”‚
                            â”‚ â”œâ”€ ç»„åˆé£é™©              â”‚
                            â”‚ â””â”€ é£é™©ç»ç†              â”‚
                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                            â”‚ ç¬¬å››é˜¶æ®µï¼šæœ€ç»ˆå†³ç­–ï¼ˆ2ä¸ªï¼‰  â”‚
                            â”‚ â”œâ”€ æŠ•èµ„å†³ç­–æ€»ç»ç†        â”‚
                            â”‚ â””â”€ ç™½è¯è§£è¯»å‘˜            â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â†“
                              å…¨é¢ã€å®¢è§‚ã€ä¸“ä¸š
```

### æŠ€æœ¯å®ç°

```javascript
// å¹¶å‘æ‰§è¡Œç¬¬ä¸€é˜¶æ®µ8ä¸ªæ™ºèƒ½ä½“
const runAgentsParallel = async (agentIds, data) => {
  const targetAgents = AGENTS.filter(a => agentIds.includes(a.id))
  await Promise.all(targetAgents.map(agent => runAgentAnalysis(agent, data)))
}

// é€’è¿›æ‰§è¡Œåç»­é˜¶æ®µ
await runAgentsParallel(stage1Agents, stockData)  // ç¬¬ä¸€é˜¶æ®µ
await runAgentsParallel(stage2Agents, stockData)  // ç¬¬äºŒé˜¶æ®µ
await runAgentsParallel(stage3Agents, stockData)  // ç¬¬ä¸‰é˜¶æ®µ
await runAgentsParallel(stage4Agents, stockData)  // ç¬¬å››é˜¶æ®µ
```

### ä¼˜åŠ¿
- âœ… **å…¨é¢æ€§**: 8ä¸ªç»´åº¦ï¼Œæ— æ­»è§’è¦†ç›–
- âœ… **å®¢è§‚æ€§**: å¤šç©ºè¾©è®ºï¼Œé¿å…ç‰‡é¢
- âœ… **ä¸“ä¸šæ€§**: 21ä¸ªä¸“å®¶ï¼Œå„å¸å…¶èŒ
- âœ… **å¯è¿½æº¯**: å®Œæ•´å†³ç­–é“¾ï¼Œå¯å¤ç›˜

---

## 2. ğŸ¯ æ™ºèƒ½æ–°é—»è¿‡æ»¤ç®—æ³•

### é—®é¢˜èƒŒæ™¯
- æ–°é—»æºä¼—å¤šï¼Œä¿¡æ¯è¿‡è½½
- 360æ¡æ–°é—»ï¼Œç”¨æˆ·æ— æ³•å…¨éƒ¨é˜…è¯»
- å¤§é‡ä¸­æ€§æ–°é—»ï¼Œä»·å€¼ä¸é«˜
- éœ€è¦å¿«é€Ÿæ‰¾åˆ°å…³é”®ä¿¡æ¯

### è§£å†³æ–¹æ¡ˆï¼šæ™ºèƒ½æƒ…ç»ªè¿‡æ»¤

```python
def _filter_news_by_sentiment(self, news_list: List[Dict]) -> Dict:
    """
    æ™ºèƒ½è¿‡æ»¤æ–°é—»ï¼šä¼˜å…ˆæ˜¾ç¤ºéä¸­æ€§æ–°é—»ï¼Œä½†ä¸å°‘äº30ç¯‡
    
    è§„åˆ™ï¼š
    1. å¦‚æœéä¸­æ€§æ–°é—» >= 30ç¯‡ï¼Œåªæ˜¾ç¤ºéä¸­æ€§
    2. å¦‚æœéä¸­æ€§æ–°é—» < 30ç¯‡ï¼Œæ˜¾ç¤ºæ‰€æœ‰éä¸­æ€§ + éƒ¨åˆ†ä¸­æ€§ï¼Œæ€»æ•°è¾¾åˆ°30ç¯‡
    3. å¦‚æœæ€»æ•° < 30ç¯‡ï¼Œæ˜¾ç¤ºå…¨éƒ¨
    """
    # åˆ†ç±»æ–°é—»
    positive_news = []
    negative_news = []
    neutral_news = []
    
    for news in news_list:
        score = self.sentiment_analyzer.analyze_text_sentiment(text)
        if score > 0.2:
            positive_news.append(news)
        elif score < -0.2:
            negative_news.append(news)
        else:
            neutral_news.append(news)
    
    non_neutral_count = len(positive_news) + len(negative_news)
    
    # å†³ç­–é€»è¾‘
    if non_neutral_count >= 30:
        filtered = positive_news + negative_news
        strategy = f'åªæ˜¾ç¤ºéä¸­æ€§æ–°é—» ({non_neutral_count}ç¯‡)'
    elif total_count <= 30:
        filtered = news_list
        strategy = f'æ€»æ•°ä¸è¶³ï¼Œæ˜¾ç¤ºå…¨éƒ¨ ({total_count}ç¯‡)'
    else:
        need_neutral = 30 - non_neutral_count
        filtered = positive_news + negative_news + neutral_news[:need_neutral]
        strategy = f'éä¸­æ€§{non_neutral_count}ç¯‡ + ä¸­æ€§{need_neutral}ç¯‡'
    
    return {'news': filtered, 'strategy': strategy}
```

### æ•ˆæœå¯¹æ¯”

```
è¿‡æ»¤å‰:
â”œâ”€ æ€»æ•°: 360æ¡
â”œâ”€ æ­£é¢: 45æ¡ (12.5%)
â”œâ”€ è´Ÿé¢: 38æ¡ (10.6%)
â””â”€ ä¸­æ€§: 277æ¡ (76.9%) â† å¤§é‡ä½ä»·å€¼ä¿¡æ¯

è¿‡æ»¤å:
â”œâ”€ æ€»æ•°: 83æ¡
â”œâ”€ æ­£é¢: 45æ¡ (54.2%)
â”œâ”€ è´Ÿé¢: 38æ¡ (45.8%)
â””â”€ ä¸­æ€§: 0æ¡ (0%)

è¿‡æ»¤ç‡: 77%
ä¿¡æ¯å¯†åº¦: +300%
é˜…è¯»æ—¶é—´: -70%
```

### ä¼˜åŠ¿
- âœ… **é«˜æ•ˆ**: è¿‡æ»¤77%çš„ä½ä»·å€¼ä¿¡æ¯
- âœ… **ç²¾å‡†**: ä¿ç•™100%çš„å…³é”®ä¿¡æ¯
- âœ… **æ™ºèƒ½**: æ ¹æ®å®é™…æƒ…å†µåŠ¨æ€è°ƒæ•´
- âœ… **é€æ˜**: æ˜¾ç¤ºè¿‡æ»¤ç­–ç•¥ï¼Œç”¨æˆ·å¯çŸ¥

---

## 3. ğŸ”„ ç½‘ç»œå®¹é”™æœºåˆ¶

### é—®é¢˜èƒŒæ™¯
- APIè°ƒç”¨å¯èƒ½å¤±è´¥ï¼ˆç½‘ç»œé—®é¢˜ã€æœåŠ¡å™¨é—®é¢˜ï¼‰
- ç”¨æˆ·ä½“éªŒå·®ï¼ˆåˆ†æä¸­æ–­ã€é”™è¯¯æç¤ºï¼‰
- ç³»ç»Ÿç¨³å®šæ€§ä½ï¼ˆä¸€æ¬¡å¤±è´¥å¯¼è‡´æ•´ä½“å¤±è´¥ï¼‰

### è§£å†³æ–¹æ¡ˆï¼š3æ¬¡é‡è¯• + æŒ‡æ•°é€€é¿

```python
async def call_siliconflow_api(prompt: str, model: str, temperature: float):
    """
    è°ƒç”¨SiliconFlow APIï¼Œå¸¦é‡è¯•æœºåˆ¶
    """
    max_retries = 3
    
    for attempt in range(max_retries):
        try:
            response = await client.post(
                url="https://api.siliconflow.cn/v1/chat/completions",
                json={
                    "model": model,
                    "messages": [{"role": "user", "content": prompt}],
                    "temperature": temperature
                },
                timeout=60.0
            )
            
            if response.status_code == 200:
                return {"success": True, "text": response.json()["choices"][0]["message"]["content"]}
            elif response.status_code == 402:
                # ä½™é¢ä¸è¶³ï¼Œç›´æ¥è¿”å›å‹å¥½æç¤º
                return {
                    "success": True,
                    "text": "âš ï¸ APIä½™é¢ä¸è¶³ã€‚å»ºè®®ï¼š\n1. æ£€æŸ¥APIä½™é¢\n2. åˆ‡æ¢åˆ°å…¶ä»–æ¨¡å‹\n3. å……å€¼åé‡è¯•",
                    "quota_exceeded": True
                }
            else:
                raise Exception(f"HTTP {response.status_code}")
                
        except (httpx.ReadTimeout, httpx.RemoteProtocolError, 
                httpx.ConnectError, httpx.NetworkError) as e:
            if attempt < max_retries - 1:
                wait_time = 2 ** attempt  # æŒ‡æ•°é€€é¿: 1s, 2s, 4s
                logger.warning(f"ç¬¬{attempt+1}æ¬¡å°è¯•å¤±è´¥ï¼Œ{wait_time}ç§’åé‡è¯•...")
                await asyncio.sleep(wait_time)
            else:
                # å…¨éƒ¨å¤±è´¥ï¼Œè¿”å›å‹å¥½é™çº§å“åº”
                return {
                    "success": True,
                    "text": "âš ï¸ ç”±äºç½‘ç»œé—®é¢˜ï¼Œæœ¬æ¬¡åˆ†ææœªèƒ½å®Œæˆã€‚å»ºè®®ï¼š\n1. æ£€æŸ¥ç½‘ç»œè¿æ¥\n2. å°è¯•ä½¿ç”¨å…¶ä»–AIæ¨¡å‹\n3. ç¨åé‡è¯•",
                    "timeout": True
                }
```

### é‡è¯•ç­–ç•¥

```
ç¬¬1æ¬¡è°ƒç”¨
   â†“ å¤±è´¥
ç­‰å¾…1ç§’
   â†“
ç¬¬2æ¬¡è°ƒç”¨
   â†“ å¤±è´¥
ç­‰å¾…2ç§’
   â†“
ç¬¬3æ¬¡è°ƒç”¨
   â†“ å¤±è´¥
ç­‰å¾…4ç§’
   â†“
ç¬¬4æ¬¡è°ƒç”¨
   â†“ å¤±è´¥
è¿”å›å‹å¥½æç¤º
```

### æ•è·çš„å¼‚å¸¸

```python
å¼‚å¸¸ç±»å‹:
â”œâ”€ httpx.ReadTimeout          # è¯»å–è¶…æ—¶
â”œâ”€ httpx.RemoteProtocolError  # æœåŠ¡å™¨æ–­å¼€è¿æ¥
â”œâ”€ httpx.ConnectError         # è¿æ¥é”™è¯¯
â””â”€ httpx.NetworkError         # ç½‘ç»œé”™è¯¯

HTTPé”™è¯¯:
â”œâ”€ 402 Forbidden              # ä½™é¢ä¸è¶³
â”œâ”€ 429 Too Many Requests      # è¯·æ±‚è¿‡å¤š
â”œâ”€ 500 Internal Server Error  # æœåŠ¡å™¨é”™è¯¯
â””â”€ 503 Service Unavailable    # æœåŠ¡ä¸å¯ç”¨
```

### ä¼˜åŠ¿
- âœ… **ç¨³å®š**: 95%+çš„æˆåŠŸç‡
- âœ… **å‹å¥½**: é™çº§å“åº”ï¼Œä¸ä¸­æ–­æµç¨‹
- âœ… **æ™ºèƒ½**: æŒ‡æ•°é€€é¿ï¼Œé¿å…é›ªå´©
- âœ… **é€æ˜**: æ—¥å¿—è®°å½•ï¼Œä¾¿äºè°ƒè¯•

---

## 4. ğŸ§  æ€ç»´é“¾å¯è§†åŒ– (Chain of Thought)

### æ ¸å¿ƒæ¦‚å¿µ
è®©ç”¨æˆ·çœ‹åˆ°AIçš„"æ€è€ƒè¿‡ç¨‹"ï¼Œå¢å¼ºä¿¡ä»»æ„Ÿå’Œé€æ˜åº¦ã€‚

### å®ç°æ–¹å¼

```javascript
// æ€ç»´é“¾æ¨¡æ¿
const THOUGHT_TEMPLATES = {
  NEWS: [
    { icon: 'ğŸ“¡', message: 'æ­£åœ¨è¿æ¥å…¨ç½‘è´¢ç»èˆ†æƒ…æº...' },
    { icon: 'ğŸ•·ï¸', message: 'çˆ¬å–æœ€è¿‘24Hç›¸å…³æ–°é—»ä¸å…¬å‘Š...' },
    { icon: 'ğŸ“Š', message: 'NLPæƒ…ç»ªè¯„åˆ†ä¸å…³é”®è¯æå–...' },
    { icon: 'ğŸ“', message: 'ç”Ÿæˆèˆ†æƒ…ç»¼è¿°æŠ¥å‘Š...' }
  ],
  TECHNICAL: [
    { icon: 'ğŸ“ˆ', message: 'åŠ è½½Kçº¿å†å²æ•°æ®(æ—¥/å‘¨/æœˆ)...' },
    { icon: 'ğŸ“', message: 'è®¡ç®—MAã€MACDã€KDJç­‰æŒ‡æ ‡...' },
    { icon: 'ğŸ”', message: 'è¯†åˆ«å½¢æ€ä¸å…³é”®æ”¯æ’‘å‹åŠ›ä½...' },
    { icon: 'ğŸ“', message: 'ç”ŸæˆæŠ€æœ¯é¢ç ”åˆ¤ç»“è®º...' }
  ]
}

// æ¨¡æ‹Ÿæ€è€ƒè¿‡ç¨‹
const simulateThoughts = (agentId, role) => {
  const template = THOUGHT_TEMPLATES[role]
  let stepIndex = 0
  
  const interval = setInterval(() => {
    if (stepIndex < template.length) {
      agentThoughts.value[agentId].push(template[stepIndex])
      stepIndex++
    } else {
      clearInterval(interval)
    }
  }, 800) // æ¯0.8ç§’æ˜¾ç¤ºä¸€ä¸ªæ­¥éª¤
}
```

### è§†è§‰æ•ˆæœ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“° æ–°é—»èˆ†æƒ…åˆ†æå¸ˆ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’­ æ€ç»´é“¾                            â”‚
â”‚  âœ… ğŸ“¡ æ­£åœ¨è¿æ¥å…¨ç½‘è´¢ç»èˆ†æƒ…æº...     â”‚
â”‚  âœ… ğŸ•·ï¸ çˆ¬å–æœ€è¿‘24Hç›¸å…³æ–°é—»ä¸å…¬å‘Š... â”‚
â”‚  ğŸ”„ ğŸ“Š NLPæƒ…ç»ªè¯„åˆ†ä¸å…³é”®è¯æå–...   â”‚
â”‚  â³ ğŸ“ ç”Ÿæˆèˆ†æƒ…ç»¼è¿°æŠ¥å‘Š...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜åŠ¿
- âœ… **é€æ˜**: ç”¨æˆ·çŸ¥é“AIåœ¨åšä»€ä¹ˆ
- âœ… **ä¿¡ä»»**: å¢å¼ºç”¨æˆ·å¯¹ç»“æœçš„ä¿¡ä»»
- âœ… **ä½“éªŒ**: ç­‰å¾…è¿‡ç¨‹ä¸æ¯ç‡¥
- âœ… **æ•™è‚²**: ç”¨æˆ·äº†è§£åˆ†ææµç¨‹

---

## 5. âŒ¨ï¸ æ‰“å­—æœºæ•ˆæœå®ç°

### æ ¸å¿ƒæ¦‚å¿µ
é€å­—æ˜¾ç¤ºåˆ†æç»“æœï¼Œæ¨¡æ‹ŸçœŸå®æ‰“å­—è¿‡ç¨‹ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

### æŠ€æœ¯å®ç°

```vue
<template>
  <div class="typewriter">
    <span v-html="displayedText"></span>
    <span v-if="!isComplete" class="cursor">|</span>
  </div>
</template>

<script>
export default {
  props: {
    text: String,
    speed: { type: Number, default: 30 } // 30ms/å­—ç¬¦
  },
  data() {
    return {
      displayedText: '',
      currentIndex: 0,
      isComplete: false,
      timer: null
    }
  },
  mounted() {
    this.startTyping()
  },
  methods: {
    startTyping() {
      this.timer = setInterval(() => {
        if (this.currentIndex < this.text.length) {
          this.displayedText += this.text[this.currentIndex]
          this.currentIndex++
        } else {
          this.isComplete = true
          clearInterval(this.timer)
          this.$emit('complete')
        }
      }, this.speed)
    }
  }
}
</script>
```

### æ€§èƒ½ä¼˜åŒ–

```javascript
// é•¿æ–‡æœ¬ä¼˜åŒ–ï¼šåˆ†æ®µæ˜¾ç¤º
if (text.length > 1000) {
  // å‰500å­—ç¬¦é€å­—æ˜¾ç¤º
  typewriterSpeed = 30
  // åé¢çš„æ–‡æœ¬å¿«é€Ÿæ˜¾ç¤º
  typewriterSpeed = 5
}

// ç”¨æˆ·å¯è·³è¿‡
if (userClickSkip) {
  displayedText = fullText
  isComplete = true
}
```

### è§†è§‰æ•ˆæœ

```
æ ¹æ®æœ€è¿‘24å°æ—¶çš„æ–°é—»åˆ†æï¼Œè¯¥è‚¡ç¥¨|
                                  â†‘ å…‰æ ‡é—ªçƒ

æ ¹æ®æœ€è¿‘24å°æ—¶çš„æ–°é—»åˆ†æï¼Œè¯¥è‚¡ç¥¨èˆ†æƒ…æ•´ä½“åå‘ç§¯æã€‚ä¸»è¦åˆ©å¥½åŒ…æ‹¬ï¼š|
                                                            â†‘ é€å­—æ˜¾ç¤º
```

### ä¼˜åŠ¿
- âœ… **æ²‰æµ¸**: æ¨¡æ‹ŸçœŸå®æ‰“å­—ï¼Œæ›´æœ‰ä»£å…¥æ„Ÿ
- âœ… **èŠ‚å¥**: æ§åˆ¶ä¿¡æ¯å‘ˆç°èŠ‚å¥
- âœ… **å¯æ§**: ç”¨æˆ·å¯è·³è¿‡
- âœ… **ç¾è§‚**: è§†è§‰æ•ˆæœå¥½

---

## 6. ğŸ”€ å¤šæ¨¡å‹åŠ¨æ€è·¯ç”±

### æ ¸å¿ƒæ¦‚å¿µ
æ”¯æŒå¤šä¸ªAIæ¨¡å‹ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“å¯ç‹¬ç«‹é…ç½®ï¼ŒåŠ¨æ€åˆ‡æ¢ã€‚

### æ¶æ„è®¾è®¡

```
ç”¨æˆ·è¯·æ±‚
   â†“
è¯»å–é…ç½® (agent_configs.json)
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¨¡å‹è·¯ç”±å™¨                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ if model.includes('/'):     â”‚
â”‚   â†’ SiliconFlow API         â”‚
â”‚ elif model == 'gemini':     â”‚
â”‚   â†’ Gemini API              â”‚
â”‚ elif model == 'deepseek':   â”‚
â”‚   â†’ DeepSeek API            â”‚
â”‚ elif model == 'qwen':       â”‚
â”‚   â†’ Qwen API                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
è°ƒç”¨å¯¹åº”API
   â†“
è¿”å›ç»“æœ
```

### é…ç½®æ–‡ä»¶

```json
{
  "agents": [
    {
      "id": "news_analyst",
      "modelName": "Qwen/Qwen2.5-7B-Instruct",
      "modelProvider": "SILICONFLOW",
      "temperature": 0.7
    },
    {
      "id": "technical",
      "modelName": "gemini-2.0-flash-exp",
      "modelProvider": "GEMINI",
      "temperature": 0.3
    }
  ],
  "selectedModels": [
    "gemini-2.0-flash-exp",
    "deepseek-chat",
    "qwen-plus",
    "Qwen/Qwen2.5-7B-Instruct",
    "Qwen/Qwen3-8B"
  ]
}
```

### åŠ¨æ€åŠ è½½

```javascript
// ä»é…ç½®æ–‡ä»¶åŠ è½½å¯ç”¨æ¨¡å‹
const loadAvailableModels = async () => {
  const response = await fetch('http://localhost:8000/api/agents/config')
  const config = await response.json()
  availableModels.value = config.selectedModels || []
}

// ä¿å­˜é…ç½®
const saveConfig = async (agentId, modelName, temperature) => {
  await fetch('http://localhost:8000/api/agents/config', {
    method: 'POST',
    body: JSON.stringify({
      agents: [{
        id: agentId,
        modelName: modelName,
        modelProvider: getProvider(modelName),
        temperature: temperature
      }]
    })
  })
}
```

### ä¼˜åŠ¿
- âœ… **çµæ´»**: æ¯ä¸ªæ™ºèƒ½ä½“ç‹¬ç«‹é…ç½®
- âœ… **å¯æ‰©å±•**: è½»æ¾æ·»åŠ æ–°æ¨¡å‹
- âœ… **æˆæœ¬ä¼˜åŒ–**: æ ¹æ®ä»»åŠ¡é€‰æ‹©åˆé€‚æ¨¡å‹
- âœ… **å®¹é”™**: ä¸€ä¸ªæ¨¡å‹å¤±è´¥ä¸å½±å“å…¶ä»–

---

## 7. âš¡ å¼‚æ­¥å¹¶å‘å¤„ç†

### æ ¸å¿ƒæ¦‚å¿µ
ç¬¬ä¸€é˜¶æ®µ8ä¸ªæ™ºèƒ½ä½“å¹¶å‘æ‰§è¡Œï¼Œå¤§å¹…æå‡åˆ†æé€Ÿåº¦ã€‚

### å®ç°æ–¹å¼

```javascript
// ä¸²è¡Œæ‰§è¡Œï¼ˆæ…¢ï¼‰âŒ
for (const agent of stage1Agents) {
  await runAgentAnalysis(agent, data)  // æ¯ä¸ª15ç§’
}
// æ€»è€—æ—¶: 8 Ã— 15ç§’ = 120ç§’

// å¹¶å‘æ‰§è¡Œï¼ˆå¿«ï¼‰âœ…
await Promise.all(
  stage1Agents.map(agent => runAgentAnalysis(agent, data))
)
// æ€»è€—æ—¶: max(15ç§’) = 15ç§’
```

### æ€§èƒ½å¯¹æ¯”

```
ä¸²è¡Œæ‰§è¡Œ:
â”œâ”€ æ–°é—»åˆ†æå¸ˆ: 15ç§’
â”œâ”€ ç¤¾äº¤åˆ†æå¸ˆ: 15ç§’
â”œâ”€ ä¸­å›½å¸‚åœº: 15ç§’
â”œâ”€ è¡Œä¸šç ”ç©¶: 15ç§’
â”œâ”€ å®è§‚ç»æµ: 15ç§’
â”œâ”€ æŠ€æœ¯åˆ†æ: 15ç§’
â”œâ”€ èµ„é‡‘æµå‘: 15ç§’
â””â”€ åŸºæœ¬é¢: 15ç§’
æ€»è®¡: 120ç§’ âŒ

å¹¶å‘æ‰§è¡Œ:
â”Œâ”€ æ–°é—»åˆ†æå¸ˆ: 15ç§’ â”
â”œâ”€ ç¤¾äº¤åˆ†æå¸ˆ: 15ç§’ â”‚
â”œâ”€ ä¸­å›½å¸‚åœº: 15ç§’   â”‚
â”œâ”€ è¡Œä¸šç ”ç©¶: 15ç§’   â”œâ”€ åŒæ—¶æ‰§è¡Œ
â”œâ”€ å®è§‚ç»æµ: 15ç§’   â”‚
â”œâ”€ æŠ€æœ¯åˆ†æ: 15ç§’   â”‚
â”œâ”€ èµ„é‡‘æµå‘: 15ç§’   â”‚
â””â”€ åŸºæœ¬é¢: 15ç§’     â”˜
æ€»è®¡: 15ç§’ âœ…

é€Ÿåº¦æå‡: 8å€
```

### èµ„æºç®¡ç†

```javascript
// è¿æ¥æ± ç®¡ç†
const connectionPool = {
  maxConnections: 10,
  currentConnections: 0,
  queue: []
}

// è¯·æ±‚é˜Ÿåˆ—
async function executeWithLimit(fn) {
  while (connectionPool.currentConnections >= connectionPool.maxConnections) {
    await new Promise(resolve => connectionPool.queue.push(resolve))
  }
  
  connectionPool.currentConnections++
  try {
    return await fn()
  } finally {
    connectionPool.currentConnections--
    if (connectionPool.queue.length > 0) {
      connectionPool.queue.shift()()
    }
  }
}
```

### ä¼˜åŠ¿
- âœ… **å¿«é€Ÿ**: 8å€é€Ÿåº¦æå‡
- âœ… **é«˜æ•ˆ**: å……åˆ†åˆ©ç”¨èµ„æº
- âœ… **ç¨³å®š**: è¿æ¥æ± ç®¡ç†
- âœ… **å¯æ§**: é˜Ÿåˆ—æœºåˆ¶

---

## 8. ğŸ“Š æ•°æ®æºä¼˜å…ˆçº§ç®¡ç†

### æ ¸å¿ƒæ¦‚å¿µ
å¤šä¸ªæ•°æ®æºï¼ŒæŒ‰ä¼˜å…ˆçº§å°è¯•ï¼Œè‡ªåŠ¨é™çº§ã€‚

### ä¼˜å…ˆçº§ç­–ç•¥

```python
æ•°æ®æºä¼˜å…ˆçº§:
1. AKShare        # å…è´¹ã€å®æ—¶ã€æ•°æ®å…¨
   â†“ å¤±è´¥
2. æ–°æµªè´¢ç»       # ç¨³å®šæ€§å¥½ã€å®æ—¶æ•°æ®
   â†“ å¤±è´¥
3. èšåˆæ•°æ®       # ä»˜è´¹ã€ç¨³å®š
   â†“ å¤±è´¥
4. Tushare        # æœ‰ç§¯åˆ†é™åˆ¶
   â†“ å¤±è´¥
5. BaoStock       # å†å²æ•°æ®
```

### å®ç°ä»£ç 

```python
async def get_stock_data(stock_code: str):
    """æŒ‰ä¼˜å…ˆçº§è·å–è‚¡ç¥¨æ•°æ®"""
    sources = [
        ('AKShare', get_akshare_data),
        ('æ–°æµªè´¢ç»', get_sina_data),
        ('èšåˆæ•°æ®', get_juhe_data),
        ('Tushare', get_tushare_data),
        ('BaoStock', get_baostock_data)
    ]
    
    for source_name, source_func in sources:
        try:
            logger.info(f"å°è¯•ä»{source_name}è·å–æ•°æ®...")
            data = await source_func(stock_code)
            if data is not None:
                logger.info(f"âœ… æˆåŠŸä»{source_name}è·å–æ•°æ®")
                return data
        except Exception as e:
            logger.warning(f"âŒ {source_name}å¤±è´¥: {e}")
            continue
    
    logger.error("æ‰€æœ‰æ•°æ®æºå‡å¤±è´¥")
    return None
```

### é™çº§ç­–ç•¥

```
ç¬¬1æ¬¡: AKShare
   â†“ ç½‘ç»œè¶…æ—¶
ç¬¬2æ¬¡: æ–°æµªè´¢ç»
   â†“ 403 Forbidden
ç¬¬3æ¬¡: èšåˆæ•°æ®
   â†“ APIä½™é¢ä¸è¶³
ç¬¬4æ¬¡: Tushare
   â†“ ç§¯åˆ†ä¸è¶³
ç¬¬5æ¬¡: BaoStock
   â†“ æˆåŠŸ âœ…
```

### ä¼˜åŠ¿
- âœ… **å¯é **: å¤šä¸ªå¤‡é€‰æ–¹æ¡ˆ
- âœ… **æ™ºèƒ½**: è‡ªåŠ¨é™çº§
- âœ… **é«˜æ•ˆ**: ä¼˜å…ˆä½¿ç”¨æœ€ä¼˜æº
- âœ… **é€æ˜**: æ—¥å¿—è®°å½•æ¥æº

---

## ğŸ“Š æŠ€æœ¯æ ˆæ€»ç»“

### åç«¯æŠ€æœ¯
```
æ ¸å¿ƒæ¡†æ¶:
â”œâ”€ FastAPI 0.100+     # é«˜æ€§èƒ½å¼‚æ­¥Webæ¡†æ¶
â”œâ”€ Uvicorn            # ASGIæœåŠ¡å™¨
â”œâ”€ Pydantic           # æ•°æ®éªŒè¯
â””â”€ Python 3.8+        # ç¼–ç¨‹è¯­è¨€

AIé›†æˆ:
â”œâ”€ httpx              # å¼‚æ­¥HTTPå®¢æˆ·ç«¯
â”œâ”€ asyncio            # å¼‚æ­¥ç¼–ç¨‹
â””â”€ å¤šæ¨¡å‹æ”¯æŒ         # 4ä¸ªAIæ¨¡å‹

æ•°æ®å¤„ç†:
â”œâ”€ pandas             # æ•°æ®åˆ†æ
â”œâ”€ numpy              # æ•°å€¼è®¡ç®—
â”œâ”€ akshare            # Aè‚¡æ•°æ®
â””â”€ tushare            # é‡‘èæ•°æ®
```

### å‰ç«¯æŠ€æœ¯
```
æ ¸å¿ƒæ¡†æ¶:
â”œâ”€ Vue 3.2+           # æ¸è¿›å¼æ¡†æ¶
â”œâ”€ Composition API    # ç»„åˆå¼API
â””â”€ Vite               # æ„å»ºå·¥å…·

UIç»„ä»¶:
â”œâ”€ è‡ªå®šä¹‰ç»„ä»¶         # 15+ä¸ª
â”œâ”€ TailwindCSS        # åŸå­åŒ–CSS
â””â”€ å“åº”å¼è®¾è®¡         # ç§»åŠ¨ç«¯é€‚é…

çŠ¶æ€ç®¡ç†:
â”œâ”€ ref/reactive       # å“åº”å¼æ•°æ®
â”œâ”€ computed           # è®¡ç®—å±æ€§
â””â”€ watch              # ä¾¦å¬å™¨
```

---

**ç‰ˆæœ¬**: v1.3.4  
**æœ€åæ›´æ–°**: 2024-12-05  
**æŠ€æœ¯äº®ç‚¹**: 8ä¸ªæ ¸å¿ƒåˆ›æ–°
