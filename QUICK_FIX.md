# å¿«é€Ÿä¿®å¤ - è‚¡ç¥¨æ•°æ®è§£æ

> æ—¶é—´: 2025-12-04 14:45  
> ç‰ˆæœ¬: 1.3.2

---

## ğŸ› é—®é¢˜

### é—®é¢˜1: è‚¡ç¥¨æ•°æ®è§£æå¤±è´¥
```
[Stock API] è§£æåçš„æ•°æ®: {'price': 'N/A', 'change': 'N/A', ...}
[StockDataAdapter] æ•°æ®æ— æ•ˆ: ç¼ºå°‘ä»·æ ¼ä¿¡æ¯
```

**åŸå› **: `StockDataAdapter.parse_text_data` åªèƒ½è§£æå¸¦emojiçš„æ ¼å¼ï¼Œæ— æ³•è§£æDataFrameè¡¨æ ¼æ ¼å¼

### é—®é¢˜2: å‰ç«¯ç‰ˆæœ¬æ˜¾ç¤º1.2.0
**åŸå› **: `package.json` ä¸­ç‰ˆæœ¬å·æ²¡æœ‰æ›´æ–°

---

## âœ… ä¿®å¤

### 1. ä¿®å¤è‚¡ç¥¨æ•°æ®è§£æå™¨ âœ…

**æ–‡ä»¶**: `backend/dataflows/stock_data_adapter.py`

**ä¿®å¤å†…å®¹**: æ·»åŠ ä»DataFrameè¡¨æ ¼ä¸­æå–æœ€æ–°æ•°æ®çš„é€»è¾‘

**å…³é”®ä»£ç **:
```python
# âœ… å…³é”®ä¿®å¤ï¼šä»è¡¨æ ¼ä¸­æå–æœ€æ–°æ•°æ®
if 'æœ€æ–°3å¤©æ•°æ®' in text or 'æœ€æ–°æ•°æ®' in text:
    lines = text.split('\n')
    for i, line in enumerate(lines):
        if 'æœ€æ–°3å¤©æ•°æ®' in line:
            # æå–è¡¨æ ¼æ•°æ®è¡Œ
            data_lines = []
            for j in range(i+2, min(i+10, len(lines))):
                numbers = re.findall(r'[\d.]+', lines[j])
                if len(numbers) >= 8:
                    data_lines.append(numbers)
            
            # ä½¿ç”¨æœ€åä¸€è¡Œæ•°æ®ï¼ˆæœ€æ–°æ•°æ®ï¼‰
            if data_lines:
                last_data = data_lines[-1]
                result["price"] = last_data[3]  # æ”¶ç›˜ä»·
                result["change"] = f"{last_data[9]}%"  # æ¶¨è·Œå¹…
                logger.info(f"âœ… ä»è¡¨æ ¼æå–æ•°æ®: ä»·æ ¼={result['price']}")
```

### 2. æ›´æ–°å‰ç«¯ç‰ˆæœ¬å· âœ…

**æ–‡ä»¶**: `alpha-council-vue/package.json`

**ä¿®æ”¹**: `"version": "1.0.0"` â†’ `"version": "1.3.2"`

---

## ğŸš€ æµ‹è¯•æ­¥éª¤

### 1. é‡å¯åç«¯
```bash
# åœæ­¢åç«¯
taskkill /F /IM python.exe /T

# é‡å¯åç«¯
cd backend
python server.py
```

### 2. é‡å¯å‰ç«¯
```bash
# åœæ­¢å‰ç«¯
taskkill /F /IM node.exe /T

# é‡å¯å‰ç«¯
cd alpha-council-vue
npm run serve
```

### 3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```
Ctrl + Shift + Delete
â†’ é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"
â†’ ç‚¹å‡»"æ¸…é™¤æ•°æ®"
```

### 4. æµ‹è¯•
```
è¾“å…¥: 000001
ç‚¹å‡»: å¼€å§‹åˆ†æ
```

---

## ğŸ“Š é¢„æœŸç»“æœ

### åç«¯æ—¥å¿—
```
[Stock API] å¼€å§‹è·å–000001çš„æ•°æ®...
[Stock API] åŸå§‹æ•°æ®: è‚¡ç¥¨ä»£ç : 000001...
[StockDataAdapter] âœ… ä»è¡¨æ ¼æå–æ•°æ®: ä»·æ ¼=11.70, æ¶¨è·Œå¹…=-2.09%
[Stock API] è§£æåçš„æ•°æ®: {'price': '11.70', 'change': '-2.09%', ...}
[Stock API] æ•°æ®éªŒè¯ç»“æœ: True
[Stock API] âœ… æˆåŠŸ: è‚¡ç¥¨000001 11.70 -2.09%
```

### å‰ç«¯å·¦ä¾§é¢æ¿
```
âœ… æˆåŠŸè·å–æ•°æ®: å¹³å®‰é“¶è¡Œ (000001)
âœ… ä»·æ ¼: Â¥11.70 | æ¶¨è·Œ: -2.09%
â„¹ï¸ æ•°æ®æº: AKShare
```

### å‰ç«¯ç‰ˆæœ¬å·
```
å³ä¸Šè§’æ˜¾ç¤º: v1.3.2
```

---

## ğŸ¯ å…³é”®æ”¹è¿›

1. **æ™ºèƒ½è§£æ** - è‡ªåŠ¨è¯†åˆ«DataFrameè¡¨æ ¼æ ¼å¼
2. **æå–æœ€æ–°æ•°æ®** - ä»è¡¨æ ¼æœ€åä¸€è¡Œæå–å½“å‰ä»·æ ¼
3. **ç‰ˆæœ¬åŒæ­¥** - å‰åç«¯ç‰ˆæœ¬å·ä¸€è‡´

---

**ç«‹å³æ‰§è¡Œ**: 
1. é‡å¯åç«¯
2. é‡å¯å‰ç«¯
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. æµ‹è¯•è‚¡ç¥¨æ•°æ®è·å–
